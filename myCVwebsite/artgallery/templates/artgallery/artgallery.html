{% extends "mainPage/base.html" %}


{% block media %}
{% endblock media %}


{% block title %} 'AL :: Gallery' {% endblock %}


{% block content %}

	<h2>Gallery</h2>

	{% for project in projects %}

		<div class="accordion" id="accordion">
			<div class="card">
				<div class="card-header" id="headingOne">
					<h3 class="mb-0">
						<button class="btn btn-link" data-toggle="collapse" data-target="#carousel-{{project.project_id}}" aria-expanded="true" aria-controls="carousel-{{project.project_id}}">
							Project â„– {{ project.project_title }} {{ project.project_id }}
						</button>
					</h3>
				</div>

				<div id="carousel-{{project.project_id}}" class="carousel slide collapse {% if forloop.counter0 == 0 %}show{% endif %}" data-ride="carousel" aria-labelledby="headingOne" data-parent="#accordion">
					{% if images %}
						<ol class="carousel-indicators">

							{% for image in images %}

								<li data-target="#carousel-{{project.project_id}}" data-slide-to='{{ forloop.counter0 }}' class="{% if forloop.counter0 == 0 %}active{% endif %}"></li>

							{% endfor %}

						</ol>
					{% endif %}

					{% if images %}
						<div class="carousel-inner card-body">

							{% for image in images %}
								<div class="carousel-item {% if forloop.counter0 == 0 %}active{% endif %}">
									<img src="{{ image.image.url }}" class="d-block w-100" alt="{{ image.image_title }}">
								</div>
							{% endfor %}

						</div>
					{% else %}
						<p>No image available.</p>
					{% endif %}

					<a class="carousel-control-prev" href="#carousel-{{project.project_id}}" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="carousel-control-next" href="#carousel-{{project.project_id}}" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
			</div>
		</div>

	{% endfor %}

{% endblock %}